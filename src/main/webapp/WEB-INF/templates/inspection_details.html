<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin - Inspect</title>
    <link href="../../css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet"/>
</head>
<body>
<h1>Inspect questionnaire</h1>
<p>
    <a href="adminInspect">Back to questionnaires list</a>
</p>

<!--Show Error if there's an error -->
<div th:if="${errorMsg}">
    <p th:text="${errorMsg}"></p>
</div>
<!-- This renders if there's no error message -->
<div th:unless="${errorMsg}">
    <div>
        <fieldset>
            <legend>Users who submitted the questionnaire</legend>
            <ul>
                <li th:each="u : ${users_submit}" th:text="${u.username}"></li>
            </ul>
        </fieldset>
        <fieldset>
            <legend>Users who cancelled the questionnaire</legend>
            <ul>
                <li th:each="u : ${users_cancel}" th:text="${u.username}"></li>
            </ul>
        </fieldset>
    </div>
    <div>
        <table>
            <tbody>
            <tr>
                <td colspan="2"><h3>Marketing Questions</h3></td>
            </tr>
            <th:block th:each="q : ${marketing_questions}">
                <tr>
                    <td colspan="2"><b th:text="${q.question}"></b></td>
                </tr>
                <tr th:each="a : ${q.replies}">
                    <td th:text="${a.value}"></td>
                    <td th:text="${a.user.username}"></td>
                </tr>
            </th:block>
            </tbody>
            <tbody>
            <tr>
                <td colspan="2"><h3>Stats Questions</h3></td>
            </tr>
            <th:block th:each="sq,status : ${stats_questions}">
                <tr>
                    <td colspan="2"><b th:text="${sq.question}"></b></td>
                </tr>
                <tr th:each="a : ${stats_replies[status.index]}">
                    <td th:text="${a.value}"></td>
                    <td th:text="${a.user.username}"></td>
                </tr>
            </th:block>
            </tbody>
        </table>

    </div>
</div>
</body>
</html>